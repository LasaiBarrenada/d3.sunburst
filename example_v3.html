<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf8" />

    <title>Sunburst test</title>

    <script src="https://d3js.org/d3.v3.min.js"></script>
    <script src="d3-sunburst-v3.js"></script>
</head>

<body>

<div id="sunburst"></div>

<script>

        //build codes hierarchy
        var codesHierarchy = {code:"Total",children:[
            {code:"Part1",children:[{code:"1_1"},{code:"1_2"},{code:"1_3"},{code:"1_4"}]},
            {code:"Part2",children:[
                {code:"2_1",children:[{code:"2_1_1"},{code:"2_1_2"},{code:"2_1_3"},]},
                {code:"2_2"}
            ]},
            {code:"Part3",children:[{code:"3_1"}]},
            {code:"Part4"}
        ]};

        //values
        var values = {
            "1_1":12.4,
            "1_2":2.4,
            "1_3":5.8,
            "1_4":9.2,
            "2_1_1":2.0,
            "2_1_2":6.0,
            "2_1_3":10,
            "2_2":5.4,
            "3_1":15.8,
            "Part4":32.3
        };

        //build sunburst with values
        var sb = d3.sunburst()
                .codesHierarchy(codesHierarchy)
                .set(values)
        ;

        
        
        //update with new values, after 1 second
        setTimeout(function() {

            //new values
            var valuesNew = {
                "1_1":1.7,
                "1_2":5.4,
                "1_3":7.8,
                "1_4":1.2,
                "2_1_1":0.4,
                "2_1_2":4.5,
                "2_1_3":14.8,
                "2_2":4.2,
                "3_1":16.8,
               "Part4":28.9
            };

            //update chart with new values
            sb.set(valuesNew);

        }, 1000);

</script>

</body>
</html>
